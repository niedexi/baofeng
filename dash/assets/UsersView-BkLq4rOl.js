import{_ as g,r as d,h as w,i as x,c as y,a,w as i,b as n,E as V,j as C,o as u,d as U,k,l as B,s as E,m as L}from"./index-j6xUvDN0.js";import{a as D}from"./index-DW_MHI2K.js";const M={class:"users-container"},N={class:"search-container"},j={__name:"UsersView",setup(q){const p=d([]),_=d(!0),s=d(""),m=w(()=>{if(!s.value)return p.value;const o=s.value.toLowerCase();return p.value.filter(e=>{var l,r,t,c;return((l=e.name)==null?void 0:l.toLowerCase().includes(o))||((r=e.phone)==null?void 0:r.toString().includes(o))||((t=e.province)==null?void 0:t.toLowerCase().includes(o))||((c=e.region)==null?void 0:c.toLowerCase().includes(o))})}),f=async()=>{try{const o=await D.get("https://baofengagro.com/api-admin/user");p.value=o.data.map(e=>({name:e.name,phone:e.phone,province:e.province,region:e.region}))}catch(o){V.error("获取用户数据失败"),console.error("Error fetching users:",o)}finally{_.value=!1}};return x(()=>{f()}),(o,e)=>{const l=n("el-icon"),r=n("el-input"),t=n("el-table-column"),c=n("el-table"),v=n("el-card"),h=C("loading");return u(),y("div",M,[a(v,null,{default:i(()=>[U("div",N,[a(r,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=b=>s.value=b),placeholder:"搜索用户",clearable:"",style:{width:"300px"}},{prefix:i(()=>[a(l,null,{default:i(()=>[a(B(E))]),_:1})]),_:1},8,["modelValue"])]),k((u(),L(c,{data:m.value,style:{width:"100%"},border:""},{default:i(()=>[a(t,{prop:"name",label:"姓名"}),a(t,{prop:"province",label:"省份"}),a(t,{prop:"region",label:"区域"}),a(t,{prop:"phone",label:"电话"})]),_:1},8,["data"])),[[h,_.value]])]),_:1})])}}},S=g(j,[["__scopeId","data-v-0fef0a1b"]]);export{S as default};
